---
title: ใช้ตัวจัดการข้อความใน Aspose.HTML สำหรับ Java
linktitle: ใช้ตัวจัดการข้อความใน Aspose.HTML สำหรับ Java
second_title: การประมวลผล Java HTML ด้วย Aspose.HTML
description: เรียนรู้วิธีใช้ตัวจัดการข้อความใน Aspose.HTML สำหรับ Java เพื่อจัดการรูปภาพที่หายไปและการดำเนินการเครือข่ายอื่น ๆ ได้อย่างมีประสิทธิภาพ
type: docs
weight: 12
url: /th/java/configuring-environment/use-message-handlers/
---
## การแนะนำ
ในบทช่วยสอนนี้ เราจะแนะนำคุณเกี่ยวกับตัวอย่างการใช้งานโปรแกรมจัดการข้อความใน Aspose.HTML สำหรับ Java เราจะเตรียมเอกสาร HTML ง่ายๆ ที่อ้างอิงรูปภาพที่หายไป และสาธิตวิธีการจับและจัดการข้อผิดพลาดโดยใช้โปรแกรมจัดการข้อความแบบกำหนดเอง ไม่ว่าคุณจะเป็นผู้ใช้ใหม่ของ Aspose.HTML หรือต้องการเพิ่มพูนทักษะ คู่มือนี้จะให้ข้อมูลเชิงลึกที่คุณต้องการเพื่อจัดการการทำงานของเครือข่ายอย่างมีประสิทธิภาพ
## ข้อกำหนดเบื้องต้น
ก่อนที่เราจะเจาะลึกคู่มือทีละขั้นตอน เรามาตรวจสอบกันก่อนว่าคุณมีทุกสิ่งที่คุณต้องการ:
1.  Java Development Kit (JDK): ตรวจสอบให้แน่ใจว่าคุณได้ติดตั้ง JDK ไว้ในระบบของคุณแล้ว คุณสามารถดาวน์โหลดได้จาก[เว็บไซต์ออราเคิล](https://www.oracle.com/java/technologies/javase-downloads.html).
2.  Aspose.HTML สำหรับ Java: คุณจะต้องติดตั้ง Aspose.HTML สำหรับ Java คุณสามารถดาวน์โหลดได้จาก[หน้าวางจำหน่าย Aspose](https://releases.aspose.com/html/java/).
3. IDE: ใช้ Java Integrated Development Environment (IDE) ที่คุณชื่นชอบ เช่น IntelliJ IDEA, Eclipse หรือ NetBeans
4. ความรู้พื้นฐานเกี่ยวกับ Java: ความคุ้นเคยกับการเขียนโปรแกรม Java เป็นสิ่งสำคัญในการปฏิบัติตามบทช่วยสอนนี้ได้อย่างมีประสิทธิภาพ
5.  ใบอนุญาตชั่วคราว: หากคุณกำลังใช้ Aspose.HTML เวอร์ชันทดลองใช้ โปรดพิจารณาขอรับ[ใบอนุญาตชั่วคราว](https://purchase.aspose.com/temporary-license/) เพื่อหลีกเลี่ยงข้อจำกัดใดๆ ในระหว่างการพัฒนา

## แพ็คเกจนำเข้า
ก่อนที่เราจะเริ่มต้น ตรวจสอบให้แน่ใจว่าคุณได้นำแพ็คเกจที่จำเป็นเข้าสู่โปรเจ็กต์ Java ของคุณแล้ว ด้านล่างนี้คือแพ็คเกจนำเข้าที่จำเป็นที่คุณต้องมี:
```java
import java.io.IOException;
```
การนำเข้าเหล่านี้จะทำให้คุณสามารถเข้าถึงคลาสและวิธีการที่จำเป็นสำหรับการจัดการการทำงานของเครือข่าย การสร้างเอกสาร HTML และการดำเนินการแปลง HTML เป็น PNG

## ขั้นตอนที่ 1: เตรียมโค้ด HTML
สิ่งแรกที่เราต้องการคือโค้ด HTML ง่ายๆ ที่อ้างอิงไฟล์รูปภาพ เราจะอ้างอิงรูปภาพที่ไม่มีอยู่จริงโดยตั้งใจเพื่อเรียกใช้กลไกการจัดการข้อผิดพลาด
```java
String code = "<img src='missing.jpg'>";
```
 โค้ดสั้นๆ นี้จะสร้างองค์ประกอบ HTML ที่พยายามโหลดรูปภาพที่มีชื่อว่า`missing.jpg`เนื่องจากไฟล์ภาพนี้ไม่มีอยู่ จึงทำให้เกิดข้อผิดพลาดในระหว่างกระบวนการโหลดเอกสาร
## ขั้นตอนที่ 2: เขียนโค้ด HTML ลงในไฟล์
ต่อไปเราจะต้องเขียนโค้ด HTML นี้ลงในไฟล์เพื่อโหลดในภายหลัง
```java
try (java.io.FileWriter fileWriter = new java.io.FileWriter("document.html")) {
    fileWriter.write(code);
}
```
 ที่นี่เราใช้`FileWriter` เพื่อเขียนโค้ด HTML ของเราลงในไฟล์ที่ชื่อ`document.html`ไฟล์นี้จะใช้เพื่อสร้างเอกสาร HTML ในขั้นตอนต่อไปนี้
## ขั้นตอนที่ 3: สร้างตัวจัดการข้อความแบบกำหนดเอง
ตอนนี้เรามาสร้างโปรแกรมจัดการข้อความแบบกำหนดเองเพื่อจัดการกับสถานการณ์ที่รูปภาพหายไป โปรแกรมจัดการข้อความจะตรวจสอบรหัสสถานะของการตอบสนองและพิมพ์ข้อความหากไม่พบไฟล์
```java
com.aspose.html.net.MessageHandler handler = new com.aspose.html.net.MessageHandler() {
    @Override
    public void invoke(com.aspose.html.net.INetworkOperationContext context) {
        if (context.getResponse().getStatusCode() != 200) {
            System.out.println(String.format("File '%s' Not Found", context.getRequest().getRequestUri().toString()));
        }
        invoke(context);
    }
};
```
 ในตัวจัดการนี้`invoke` วิธีการนี้จะตรวจสอบรหัสสถานะของการตอบสนองของการดำเนินการเครือข่าย หากรหัสสถานะไม่ใช่ 200 (ซึ่งบ่งชี้ความสำเร็จ) ระบบจะพิมพ์ข้อความที่ระบุว่าไม่พบไฟล์`invoke(context);` บรรทัดนี้จะรับรองว่าตัวจัดการถัดไปในเชนจะถูกเรียกใช้
## ขั้นตอนที่ 4: กำหนดค่าบริการเครือข่าย
 ในการใช้ตัวจัดการข้อความแบบกำหนดเอง เราจำเป็นต้องเพิ่มตัวจัดการข้อความนั้นลงในกลุ่มของตัวจัดการข้อความที่มีอยู่ในบริการเครือข่าย ซึ่งทำได้ผ่าน`Configuration` ระดับ.
```java
com.aspose.html.Configuration configuration = new com.aspose.html.Configuration();
try {
    com.aspose.html.services.INetworkService network = configuration.getService(com.aspose.html.services.INetworkService.class);
    network.getMessageHandlers().addItem(handler);
```
ที่นี่เราสร้างอินสแตนซ์ของ`Configuration` และดึงข้อมูล`INetworkService`จากนั้นเราจะเพิ่มตัวจัดการแบบกำหนดเองของเราลงในรายการตัวจัดการข้อความ การตั้งค่านี้จะช่วยให้มั่นใจว่าตัวจัดการของเราจะถูกเรียกใช้ระหว่างการดำเนินการเครือข่าย
## ขั้นตอนที่ 5: โหลดเอกสาร HTML
เมื่อกำหนดค่าเรียบร้อยแล้ว เราก็สามารถโหลดเอกสาร HTML ได้แล้ว เอกสารจะพยายามโหลดรูปภาพที่หายไป ซึ่งจะเรียกใช้ตัวจัดการข้อความแบบกำหนดเองของเรา
```java
com.aspose.html.HTMLDocument document = new com.aspose.html.HTMLDocument("document.html", configuration);
try {
    // การดำเนินการเพิ่มเติมจะไปที่นี่
} finally {
    if (document != null) {
        document.dispose();
    }
}
```
สไนปเป็ตนี้จะโหลดเอกสาร HTML โดยใช้การกำหนดค่าที่เราได้ตั้งค่าไว้ก่อนหน้านี้ กระบวนการโหลดเอกสารจะพยายามโหลดรูปภาพที่หายไป และตัวจัดการข้อความของเราจะจับและจัดการข้อผิดพลาดที่เกิดขึ้น
## ขั้นตอนที่ 6: แปลง HTML เป็น PNG
เพื่อสรุปสิ่งต่างๆ ให้แปลงเอกสาร HTML เป็นรูปภาพ PNG ขั้นตอนนี้ไม่จำเป็นอย่างยิ่งสำหรับการจัดการรูปภาพที่หายไป แต่เป็นการสาธิตฟังก์ชันการทำงานที่กว้างขึ้นของ Aspose.HTML
```java
com.aspose.html.converters.Converter.convertHTML(
    document,
    new com.aspose.html.saving.ImageSaveOptions(),
    "output.png"
);
```
 ที่นี่เราใช้`Converter.convertHTML` วิธีการแปลงเอกสาร HTML เป็นไฟล์ PNG`ImageSaveOptions`ช่วยให้เราสามารถระบุตัวเลือกในการบันทึกภาพได้ เช่น ความละเอียดและรูปแบบ
## ขั้นตอนที่ 7: ทำความสะอาดทรัพยากร
 สุดท้ายนี้ อย่าลืมทำความสะอาดทรัพยากรที่ใช้ระหว่างกระบวนการเสมอ ซึ่งรวมถึงการกำจัด`Configuration` และ`HTMLDocument` วัตถุ
```java
} finally {
    if (configuration != null) {
        configuration.dispose();
    }
}
```
วิธีนี้จะช่วยให้แน่ใจว่าทรัพยากรทั้งหมดได้รับการปล่อยออก ซึ่งช่วยป้องกันการรั่วไหลของหน่วยความจำและปัญหาที่อาจเกิดขึ้นอื่นๆ ในแอปพลิเคชันของคุณ

## บทสรุป
และนี่คือคู่มือที่ครอบคลุมเกี่ยวกับการใช้ตัวจัดการข้อความใน Aspose.HTML สำหรับ Java! เราได้แนะนำขั้นตอนการตั้งค่าเอกสาร HTML การสร้างตัวจัดการข้อความแบบกำหนดเอง และการจัดการทรัพยากรที่ขาดหายอย่างมืออาชีพ ไม่ว่าคุณจะกำลังจัดการกับรูปภาพที่ขาดหาย ลิงก์เสีย หรือปัญหาอื่นๆ ที่เกี่ยวข้องกับเครือข่าย แนวทางนี้จะช่วยให้คุณควบคุมได้ตามที่คุณต้องการเพื่อจัดการปัญหาเหล่านี้อย่างมีประสิทธิภาพในแอปพลิเคชัน Java ของคุณ

## คำถามที่พบบ่อย
### Aspose.HTML สำหรับ Java คืออะไร?
Aspose.HTML สำหรับ Java เป็นไลบรารีอันทรงพลังที่ช่วยให้นักพัฒนาสามารถสร้าง จัดการ และแปลงเอกสาร HTML ในแอปพลิเคชัน Java ได้
### เหตุใดจึงต้องใช้ตัวจัดการข้อความใน Aspose.HTML สำหรับ Java
โปรแกรมจัดการข้อความช่วยให้คุณสกัดกั้นและจัดการการทำงานของเครือข่าย เช่น การจัดการทรัพยากรที่ขาดหายไปหรือการแก้ไขคำขอและการตอบกลับ
### ฉันสามารถใช้ตัวจัดการข้อความหลายตัวในการกำหนดค่าเดียวได้หรือไม่
ใช่ คุณสามารถเชื่อมโยงตัวจัดการข้อความหลายตัวเข้าด้วยกันเพื่อจัดการสถานการณ์ต่างๆ ในระหว่างการดำเนินการเครือข่ายได้
### จำเป็นต้องกำจัดวัตถุ Configuration และ HTMLDocument หรือไม่
ใช่ การกำจัดวัตถุเหล่านี้จะช่วยให้แน่ใจว่าทรัพยากรทั้งหมดได้รับการปล่อยอย่างถูกต้อง ซึ่งช่วยป้องกันการรั่วไหลของหน่วยความจำ
### ฉันสามารถจัดการข้อผิดพลาดประเภทอื่นๆ ด้วยโปรแกรมจัดการข้อความได้หรือไม่
แน่นอน! ตัวจัดการข้อความสามารถปรับแต่งเพื่อจัดการกับข้อผิดพลาดประเภทต่างๆ ไม่ใช่แค่ทรัพยากรที่ขาดหายไปเท่านั้น